---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "filesync_host Data Source - filesync"
subcategory: ""
description: |-
  Defines a reusable host configuration for file synchronization.
  This data source allows you to define SSH connection parameters once and reuse them across multiple filesync_file or filesync_directory resources. This is especially useful when managing files on multiple hosts with different credentials.
  Example Usage
  Single Host Configuration
  
  data "filesync_host" "webserver" {
    address      = "192.168.1.100"
    ssh_user     = "deploy"
    ssh_key_path = "~/.ssh/deploy_key"
    ssh_port     = 22
  }
  
  resource "filesync_file" "nginx_config" {
    source      = "${path.module}/configs/nginx.conf"
    destination = "/etc/nginx/nginx.conf"
    host        = data.filesync_host.webserver.address
  
    ssh_user     = data.filesync_host.webserver.ssh_user
    ssh_key_path = data.filesync_host.webserver.ssh_key_path
    ssh_port     = data.filesync_host.webserver.ssh_port
    mode         = "0644"
  }
  
  Multiple Hosts with for_each
  
  locals {
    host_configs = {
      webserver = {
        address      = "192.168.1.100"
        ssh_user     = "deploy"
        ssh_key_path = "~/.ssh/deploy_key"
      }
      database = {
        address      = "192.168.1.101"
        ssh_user     = "admin"
        ssh_key_path = "~/.ssh/admin_key"
      }
    }
  }
  
  data "filesync_host" "servers" {
    for_each = local.host_configs
  
    address      = each.value.address
    ssh_user     = each.value.ssh_user
    ssh_key_path = each.value.ssh_key_path
  }
  
  resource "filesync_file" "common_config" {
    for_each = data.filesync_host.servers
  
    source      = "${path.module}/configs/common.conf"
    destination = "/etc/app/common.conf"
    host        = each.value.address
  
    ssh_user     = each.value.ssh_user
    ssh_key_path = each.value.ssh_key_path
    mode         = "0644"
  }
  
  Password Authentication
  
  data "filesync_host" "legacy_server" {
    address      = "192.168.1.200"
    ssh_user     = "admin"
    ssh_password = var.legacy_server_password
  }
  
  Certificate Authentication
  
  data "filesync_host" "secure_server" {
    address              = "192.168.1.50"
    ssh_user             = "deploy"
    ssh_key_path         = "~/.ssh/id_ed25519"
    ssh_certificate_path = "~/.ssh/id_ed25519-cert.pub"
  }
---

# filesync_host (Data Source)

Defines a reusable host configuration for file synchronization.

This data source allows you to define SSH connection parameters once and reuse them across multiple filesync_file or filesync_directory resources. This is especially useful when managing files on multiple hosts with different credentials.

## Example Usage

### Single Host Configuration

```hcl
data "filesync_host" "webserver" {
  address      = "192.168.1.100"
  ssh_user     = "deploy"
  ssh_key_path = "~/.ssh/deploy_key"
  ssh_port     = 22
}

resource "filesync_file" "nginx_config" {
  source      = "${path.module}/configs/nginx.conf"
  destination = "/etc/nginx/nginx.conf"
  host        = data.filesync_host.webserver.address

  ssh_user     = data.filesync_host.webserver.ssh_user
  ssh_key_path = data.filesync_host.webserver.ssh_key_path
  ssh_port     = data.filesync_host.webserver.ssh_port
  mode         = "0644"
}
```

### Multiple Hosts with for_each

```hcl
locals {
  host_configs = {
    webserver = {
      address      = "192.168.1.100"
      ssh_user     = "deploy"
      ssh_key_path = "~/.ssh/deploy_key"
    }
    database = {
      address      = "192.168.1.101"
      ssh_user     = "admin"
      ssh_key_path = "~/.ssh/admin_key"
    }
  }
}

data "filesync_host" "servers" {
  for_each = local.host_configs

  address      = each.value.address
  ssh_user     = each.value.ssh_user
  ssh_key_path = each.value.ssh_key_path
}

resource "filesync_file" "common_config" {
  for_each = data.filesync_host.servers

  source      = "${path.module}/configs/common.conf"
  destination = "/etc/app/common.conf"
  host        = each.value.address

  ssh_user     = each.value.ssh_user
  ssh_key_path = each.value.ssh_key_path
  mode         = "0644"
}
```

### Password Authentication

```hcl
data "filesync_host" "legacy_server" {
  address      = "192.168.1.200"
  ssh_user     = "admin"
  ssh_password = var.legacy_server_password
}
```

### Certificate Authentication

```hcl
data "filesync_host" "secure_server" {
  address              = "192.168.1.50"
  ssh_user             = "deploy"
  ssh_key_path         = "~/.ssh/id_ed25519"
  ssh_certificate_path = "~/.ssh/id_ed25519-cert.pub"
}
```



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `address` (String) Host address as IP or hostname. Required field for data source lookup.

### Optional

- `ssh_certificate` (String, Sensitive) SSH certificate content in OpenSSH format. Used with ssh_private_key for certificate-based authentication. Sensitive field not stored in state.
- `ssh_certificate_path` (String) Path to SSH certificate file in OpenSSH format. Used with ssh_key_path for certificate-based authentication. Supports ~ expansion.
- `ssh_key_path` (String) Path to SSH private key file. Can be absolute or relative. Mutually exclusive with ssh_private_key. Supports ~ expansion.
- `ssh_password` (String, Sensitive) SSH password for password authentication. Required if not using key-based authentication. Sensitive field not stored in state.
- `ssh_port` (Number) SSH listening port on this host. Must be between 1 and 65535. Defaults to 22 if not specified.
- `ssh_private_key` (String, Sensitive) SSH private key content in PEM format. Mutually exclusive with ssh_key_path. Sensitive field not stored in state.
- `ssh_user` (String) SSH username for authentication on this host. Defaults to current system user if not specified.

### Read-Only

- `id` (String) Unique identifier computed from host address. Format: 'host:<address>'.
